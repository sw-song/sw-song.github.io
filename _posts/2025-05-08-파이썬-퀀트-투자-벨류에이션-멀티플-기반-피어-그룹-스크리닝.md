---
layout: post
title: '[파이썬 퀀트 투자] 벨류에이션 멀티플 기반 피어 그룹 스크리닝'
date: 2025-05-08
categories: ["Finance"]

---


이번 글에서는 계량적 방법을 활용해 타겟 기업의 유사 그룹을 추출하고, 추출한 그룹 내 벨류에이션 멀티플에 대한 상대평가를 진행해 본다. 그전에, 동일한 스타일로 분석 대상 타겟 기업을 선정하는 것은 본 블로그의 [[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA](https://songseungwon.tistory.com/154)에서 확인할 수 있다.

### 1. 데이터셋 준비

항상 데이터셋을 준비하는 것이 먼저다. 분석 대상 기업은 Block Inc(Ticker: XYZ, 이하 Block)로, Software & Services 산업에 속하니 해당 산업군 내 모든 티커를 가져온 다음 재무제표를 추출할 것이다. 재무제표는 이후 멀티플 계산에 사용된다.

#### 1-1. 산업군 티커 추출

Ticker는 야후 파이낸스 api로 쿼리 할 수 있으며, 직접 만든 모듈을 사용할 것이다. 작성한 코드는 [github repository 내 utils 폴더](https://github.com/sw-song/quant_ans/blob/main/utils/tickers.py)에 공개해 두었다.

![](/assets/images/posts/155-0.webp)
![](/assets/images/posts/155-1.webp)

#### 1-2. Historical 재무제표 추출

다음, 재무제표 데이터를 가져온다. 아래 코드는 개인 local database에 저장된 데이터를 직접 쿼리 하는 예시인데 이러한 방대한 데이터를 개인적으로 DB화 해두고 있는 경우는 흔치 않을 것이니 추후 공개된 데이터를 쉽게 개인 서버로 카피하는 방안에 대해서도 다뤄보겠다.

![](/assets/images/posts/155-2.webp)
![](/assets/images/posts/155-3.webp)

Local DB에 만들어둔 데이터가 없다면 위 작업은 불가능하다. 대신 야후 파이낸스를 이용하는 방법도 있다. 탐색 기간이 짧을 뿐, 시장에서 거래 중인 모든 기업의 최근 5년간 재무제표를 아래와 같이 확보할 수 있다.

![](/assets/images/posts/155-4.webp)

e.g. 현금흐름표

![](/assets/images/posts/155-5.webp)

e.g. 재무상태표

#### 1-3. 산업군 필터링

재무제표 데이터를 앞서 추출한 티커 목록으로 필터링한다. 산업군마다 멀티플의 양상이 상이하므로, 동일 산업군 데이터만 가지고 유사 그룹을 추출하기 위함이다.

![](/assets/images/posts/155-6.webp)
![](/assets/images/posts/155-7.webp)
![](/assets/images/posts/155-8.webp)

### 

### 2. 산업군 통계

필요한 데이터는 모두 만들었고, 드디어 통계분석을 해볼 수 있다.

#### 2-1. Total Asset

동일 산업군의 자산 추이는 어떨까? 히스토그램으로 뽑아보았을 때 자산 규모 기준 하위 10% 그룹이 절대다수(약 97%)를 차지한다. 타겟 기업 Block 역시 여기에 속하지만, 결코 낮은 수준은 아니다.

![](/assets/images/posts/155-9.webp)

#### 2-2. Total Equity

자기 자본의 경우 음수인 영역이 꽤나 비중 있게 보인다. Block의 위치는 앞서 봤던 자산 규모를 고려할 때 자본의 비중은 상대적으로 높다.

![](/assets/images/posts/155-10.webp)

#### 2-3. Income Statement

현금 흐름은 매출, 총이익, 순이익 세 지표를 함께 나열했는데, Block은 모두 산업 평균을 웃도는 수준이다. 점선 좌측부터 우측으로 갈수록 "최근 지표"다. 현금 흐름이 지속적으로 개선되는 모양새다.

![](/assets/images/posts/155-11.webp)

### 3. 유사 그룹 비교

산업에서 더 깊이 들어가 재무제표 멀티플이 Block과 유사한 피어 그룹을 대상으로 분석해보려 한다. 이를 위해 멀티플을 정의하고, 멀티플 갭이 +/- 20% 이내에 들어오는 기업을 유사 그룹으로 분류하도록 하자.

#### 3-1. 유사 그룹 추출

멀티플은 매출 대비 총이익, 매출 대비 순이익 2가지로 놓고, 적정 오차(20%) 수준에 들어오는 기업들을 추출한다.

![](/assets/images/posts/155-12.webp)

340개 기업 중 총 19개 기업이 유사 그룹으로 추출되었다. 스크리닝 대상을 좁히는 전략으로 충분해 보인다.

![](/assets/images/posts/155-13.webp)

#### 3-2. 시가 총액 비교

유사 기업들의 현재 주가와 주식 유통량으로 시가총액을 계산한 후 연도별 시가총액 추이를 그려보았다.

![](/assets/images/posts/155-14.webp)

Block은 한 때, 시가총액이 유사 그룹 내 가장 높았으며 현재 평균 수준으로 돌아온 상태다. 다른 기업들과는 시총 추이가 상이하므로 이런 기업을 분석할 때에는 반드시 이상 구간의 이벤트를 정성적으로 확인할 필요가 있다. 다만 해당 내용은 본문의 의도에서는 많이 벗어나는 내용이므로 제외한다.

![](/assets/images/posts/155-15.webp)

#### 3-3 시가 총액 상위 피어 EV/EBITDA 비교

EV(Enterprise Value)는 이 기업을 통째로 인수할 때 드는 비용으로, 시가총액에서 부채를 제하고 보유 현금을 더해서 계산할 수 있다. 멀티플은 항상 비율로 계산해야 적절한 상대 평가가 이루어질 수 있기 때문에 EV와 함께 보편적으로 사용되는 EBITDA를 기준 척도로 사용하도록 하자. 참고로 EBITDA는 이자비용, 감가상각비, 세금 등을 제한 영업이익이므로 해당 기업의 실질적인 이익 창출 능력을 투명하게 보여주는 지표로써 멀티플 계산에 흔히 사용된다.

이 멀티플을 활용해 피어 그룹 내 시총 상위 기업들 간 벨류에이션 수준을 비교해 보도록 하자. 그룹을 쪼개고 붙여가며 비교 평가하는 것은 묶음을 달리 했을 때 그 군집에 대한 인사이트가 달라지기 때문에 이를 얻고자 함이다.

![](/assets/images/posts/155-16.webp)

\*상단 EV 계산 부분 생략 - github repository 참고

바 사이즈(width)는 EV를 의미하고 annotation으로 계산한 멀티플(EV/EBITDA)을 표시했다(좋은 방법은 아니지만, y축을 2개 쓰는 등의 차트 복잡도를 높이는 것보다 오히려 직관적이고 유용할 때가 있다). 이 차트에서 기대했던 것은 EV 대비 EV/EBITDA가 극적으로 낮은 것인데(낮을수록 저평가된 것이다) 아쉽게도 그렇진 않았다. Ticker:ADP의 경우 Ticker:ACN 대비 상대적으로 고평가 된 모습을 볼 수 있다.

![](/assets/images/posts/155-17.webp)

#### 3-4. 그룹 내 EV/EBITDA 비교

이번에는 전체 피어 그룹 대상으로 EV/EBITDA 평균치와 각 기업들의 멀티플 수준을 확인해 보자.

![](/assets/images/posts/155-18.webp)

\*상단 EV/EBITDA 계산 부분 생략 - github repository 참고

멀티플 평균은 15.5배로, Block의 멀티플보다 4.8이 높다. 앞서 Market Cap을 확인했을 때 폭락하다시피 시총이 내려앉아서인지 현재의 멀티플은 매우 좋고, 저평가된 상태로 볼 수 있다. Ticker:TYL의 경우 시총 상위 그룹에 속하지도 않았는데 멀티플을 51.7배 받고 있다. EV가 매우 높거나 EBITDA가 매우 낮은 것이다.

![](/assets/images/posts/155-19.webp)

#### 3-5. 상이한 기업 간 주요 재무 지표 비교

TYL이 XYZ보다 5배나 높은 멀티플이 잡히는 원인을 조금 더 살펴보도록 하자. 주가가 낮은데 EV/EBITDA가 높으면 일반적으로 현금 흐름이 좋지 않은 경우다.

![](/assets/images/posts/155-20.webp)

실제로 TYL과 XYZ의 여러 지표들을 직접 비교해 보면 역시 현금 흐름 측면에서 극명히 갈린다. 부채 수준이 TYL이 매우 낮아 보이나, 낮은 현금 흐름 고려할 때 그렇지도 않다.

![](/assets/images/posts/155-21.webp)

EBITDA와 달리 EV는 10% 내외 오차 수준이다.

![](/assets/images/posts/155-22.webp)

XYZ의 산업 평균 대비 준수한 멀티플은 현금 흐름의 개선에 있다.

이와 같이 분석 대상 기업에 대해 재무제표 기준 멀티플을 산업, 피어그룹 내 비교 평가할 수 있다. 개인이 동일한 내용을 산업 보고서, 공시 자료, 그리고 주가 차트를 돌아다니며 리서치하기에는 시간적인 제약이 크기 때문에 계량적 방법을 유연하게 활용할 수 있는 것은 큰 도움이 된다.

물론 이렇게 선별해 낸 기업을 즉시 투자하는 건 다른 얘기다. 상대 평가로는 해당 산업 자체에 대한 벨류에이션 리스크를 상쇄할 수 없으며, 어느 시점에 어느 비중으로 매매할 것인가 등의 투자로 이어지는 의사결정을 위해서는 수많은 절차적 고려 사항들이 존재한다. 그럼에도 불구하고 스크리닝과 가치평가에 계량적 도구를 활용하는 것은 지속적이고 반복적인 투자 의사결정에 필수적인 요소이므로 최소한 시장 지수가 아닌 개별 종목에 투자하고자 한다면 자신만의 스크리닝 전략과 도구를 개발하고 꾸준히 발전시켜 나가는 노력이 반드시 필요하겠다.



**관성을 이기는 데이터**

[저작자표시
(새창열림)](https://creativecommons.org/licenses/by/4.0/deed.ko)