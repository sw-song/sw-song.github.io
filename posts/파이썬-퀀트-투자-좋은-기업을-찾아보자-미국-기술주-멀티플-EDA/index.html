<!DOCTYPE html><html lang="kr" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA" /><meta property="og:locale" content="kr" /><meta name="description" content="투자 프로세스에서 가장 선행되어야 할 것은 좋은 기업을 찾는 일이다. 퀀트 투자에서 스크리닝 단계는 넓고 단순한 분석에서 출발해 좁고 복잡한 분석으로 이어진다. 동일 집단 내 상대적으로 재무 상태가 양호한 기업들을 스크리닝해 투자 후보군을 추려내면 이후 후보군에 대해 여러 가지 가치평가 및 안전마진 계산을 수행한다." /><meta property="og:description" content="투자 프로세스에서 가장 선행되어야 할 것은 좋은 기업을 찾는 일이다. 퀀트 투자에서 스크리닝 단계는 넓고 단순한 분석에서 출발해 좁고 복잡한 분석으로 이어진다. 동일 집단 내 상대적으로 재무 상태가 양호한 기업들을 스크리닝해 투자 후보군을 추려내면 이후 후보군에 대해 여러 가지 가치평가 및 안전마진 계산을 수행한다." /><link rel="canonical" href="https://sw-song.github.io/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%97%85%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90-%EB%AF%B8%EA%B5%AD-%EA%B8%B0%EC%88%A0%EC%A3%BC-%EB%A9%80%ED%8B%B0%ED%94%8C-EDA/" /><meta property="og:url" content="https://sw-song.github.io/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%97%85%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90-%EB%AF%B8%EA%B5%AD-%EA%B8%B0%EC%88%A0%EC%A3%BC-%EB%A9%80%ED%8B%B0%ED%94%8C-EDA/" /><meta property="og:site_name" content="관성을 이기는 데이터" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-05-04T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"투자 프로세스에서 가장 선행되어야 할 것은 좋은 기업을 찾는 일이다. 퀀트 투자에서 스크리닝 단계는 넓고 단순한 분석에서 출발해 좁고 복잡한 분석으로 이어진다. 동일 집단 내 상대적으로 재무 상태가 양호한 기업들을 스크리닝해 투자 후보군을 추려내면 이후 후보군에 대해 여러 가지 가치평가 및 안전마진 계산을 수행한다.","headline":"[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA","dateModified":"2026-01-12T08:03:50+09:00","url":"https://sw-song.github.io/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%97%85%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90-%EB%AF%B8%EA%B5%AD-%EA%B8%B0%EC%88%A0%EC%A3%BC-%EB%A9%80%ED%8B%B0%ED%94%8C-EDA/","datePublished":"2025-05-04T00:00:00+09:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://sw-song.github.io/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%97%85%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90-%EB%AF%B8%EA%B5%AD-%EA%B8%B0%EC%88%A0%EC%A3%BC-%EB%A9%80%ED%8B%B0%ED%94%8C-EDA/"},"@context":"https://schema.org"}</script><title>[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA | 관성을 이기는 데이터</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="관성을 이기는 데이터"><meta name="application-name" content="관성을 이기는 데이터"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/main/logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">관성을 이기는 데이터</a></div><div class="site-subtitle font-italic">Data Analytics and Automation</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/sw-song" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/seungwonsong/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sw930601','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Seungwon Song </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, May 4, 2025, 12:00 AM +0900" >May 4, 2025<i class="unloaded">2025-05-04T00:00:00+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Jan 12, 2026, 8:03 AM +0900" >Jan 12<i class="unloaded">2026-01-12T08:03:50+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2409 words">13 min read</span></div></div><div class="post-content"><p>투자 프로세스에서 가장 선행되어야 할 것은 좋은 기업을 찾는 일이다. 퀀트 투자에서 스크리닝 단계는 넓고 단순한 분석에서 출발해 좁고 복잡한 분석으로 이어진다. 동일 집단 내 상대적으로 재무 상태가 양호한 기업들을 스크리닝해 투자 후보군을 추려내면 이후 후보군에 대해 여러 가지 가치평가 및 안전마진 계산을 수행한다.</p><p>어떤 기준으로 후보군을 추려낼 것인지 명확하지 않을 때는 대표적인 재무 멀티플을 사용해 볼 수 있다. 야후 파이낸스 파이썬 패키지는 이미 계산된 멀티플을 제공하고 있으니 이를 활용해 미국 상장 소프트웨어 기술 기업 중 재무 상태가 양호한 후보군을 추려내는 작업을 진행해 보자.</p><h3 id="1-yfiance로-주요-기업-티커-및-재무-지표-추출">1. yfiance로 주요 기업 티커 및 재무 지표 추출</h3><p>타깃 시장의 모든 티커를 추출하는 함수와 멀티플을 추출하는 함수를 작성한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
</pre><td class="rouge-code"><pre># import libraries to get financial statement data
# Import required libraries
import pandas as pd
import numpy as np
import yfinance as yf
import requests
import json
from datetime import datetime, timedelta
import matplotlib.pyplot as plt
import seaborn as sns

def get_symbols(region='us', sector='Technology', peer_group='Software &amp; Services'):
    # Get software &amp; services tickers from Yahoo Finance
    query = yf.EquityQuery('and',[
    yf.EquityQuery('EQ',['region', region]),
    yf.EquityQuery('EQ',['sector', sector]),
    yf.EquityQuery('EQ',['peer_group', peer_group])
    ])

    offset = 0
    size = 250
    res = yf.screen(query=query, offset=0, size=250, sortAsc=True)
    df_symbols = pd.DataFrame(res['quotes'])[['symbol','shortName']]

    if res['total'] &gt; size:
        for i in range(res['total']//size):
            offset += size
            res = yf.screen(query=query, offset=offset, size=size, sortAsc=True)
            df_symbols = pd.concat([df_symbols, pd.DataFrame(res['quotes'])[['symbol','shortName']]])

    df_symbols.reset_index(drop=True, inplace=True) 
    return df_symbols

def get_valuation_multiples(symbol):
    def safe_get(info_dict, key):
        try:
            result = info_dict.get(key)
            if result is None:
                print(f"Warning: {key} returned None")
            return result
        except:
            print(f"Error getting {key}")
            return None
            
    def safe_ratio(info_dict, numerator_key, denominator_key):
        try:
            numerator = safe_get(info_dict, numerator_key)
            denominator = safe_get(info_dict, denominator_key)
            if numerator is None or denominator is None:
                print(f"Warning: Could not calculate ratio {numerator_key}/{denominator_key} - numerator or denominator is None")
                return None
            if denominator == 0:
                print(f"Warning: Could not calculate ratio {numerator_key}/{denominator_key} - denominator is 0")
                return None
            return numerator / denominator
        except:
            print(f"Error calculating ratio {numerator_key}/{denominator_key}")
            return None

    # Get info and initialize multiples dict
    info = yf.Ticker(symbol).info
    multiples = {}

    # Direct values
    multiples['PER'] = safe_get(info, 'trailingPE')
    multiples['PBR'] = safe_get(info, 'priceToBook')
    multiples['EV/Revenue'] = safe_get(info, 'enterpriseToRevenue')
    multiples['EV/EBITDA'] = safe_get(info, 'enterpriseToEbitda')
    multiples['PEG'] = safe_get(info, 'trailingPegRatio')
    multiples['Profit Margin'] = safe_get(info, 'profitMargins')
    multiples['Operating Margin'] = safe_get(info, 'operatingMargins')
    multiples['ROA'] = safe_get(info, 'returnOnAssets')
    multiples['ROE'] = safe_get(info, 'returnOnEquity')
    multiples['Beta'] = safe_get(info, 'beta')
    multiples['Debt/Equity'] = safe_get(info, 'debtToEquity')

    # Calculated ratios
    multiples['Cash/Revenue'] = safe_ratio(info, 'totalCash', 'totalRevenue')
    multiples['Debt/Revenue'] = safe_ratio(info, 'totalDebt', 'totalRevenue')

    return multiples
</pre></table></code></div></div><p>get_symbols() 함수를 기본 인자로 실행하면 아래와 같이 339개의 티커명, 기업명을 가져올 수 있다.</p><p><img data-proofer-ignore data-src="/assets/images/posts/154-0.webp" alt="" /></p><p>이어서 각 티커마다 순회하며 필요로 하는 멀티플을 추출해 데이터프레임으로 생성해 준다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>df_symbols = get_symbols()

# Create empty list to store results
results = []

# Iterate through each symbol
for idx, row in df_symbols.iterrows():
    # Get valuation multiples for current symbol
    multiples = get_valuation_multiples(row['symbol'])
    
    # Combine symbol, shortname and multiples into dict
    result_dict = {
        'symbol': row['symbol'],
        'shortName': row['shortName']
    }
    result_dict.update(multiples)
    
    # Append to results list
    results.append(result_dict)
    
    # Print progress
    print(f"Processed {idx+1}/{len(df_symbols)} symbols")

# Create dataframe from results
df_results = pd.DataFrame(results)
df_results
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-1.webp" alt="" /></p><p>위 출력된 Warning에 작성된 것처럼 티커마다 특정 멀티플은 제공하지 않는 경우가 있는데, 간단한 수식이라 굳이 yfinance가 제공하는 데이터에 제한하지 않고 직접 계산할 수도 있다. 여기서 이 작업은 생략하고, 멀티플 중 하나라도 누락된 값이 있으면 해당 티커는 제외하겠다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>df_results_womissing = df_results.dropna().reset_index(drop=True)
df_results_womissing
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-2.webp" alt="" /></p><p>###</p><h3 id="2-상호-독립적인-멀티플-추출">2. 상호 독립적인 멀티플 추출</h3><p>다각도의 재무 상태를 살피기 위해 많은 멀티플을 필요로 하진 않는다. 오히려 총 13개나 되는 멀티플을 모두 고려하면 자칫 비슷한 지표들, 혹은 연관 지표들의 가중치가 강하게 들어가 특정 재무 지표에 쏠린 후보군이 만들어질 수 있다.</p><p>따라서 상관분석을 통해 서로 연관성이 0에 가까운 지표들을 추출하겠다. 우선 상관도 히트맵을 그려보면 함께 움직이는 지표들, 그리고 반대로 움직이는 지표들을 수치로 확인할 수 있다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>#visualize correlation matrix
plt.figure(figsize=(8, 4))
sns.heatmap(df_results_womissing.iloc[:,2:].corr(), annot=True, cmap='coolwarm', annot_kws={'size': 6})
plt.show()
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-3.webp" alt="" /></p><p>이 모든 지표들 중 자기 자신을 제외한 다른 지표로부터의 영향도(상관계수) 절댓값이 0.1보다 낮은 지표들을 아래와 같이 추출한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre># Find multiples with correlation &amp;lt; 0.1 (low correlation)
low_corr = abs(df_results_womissing.iloc[:,2:].corr()) &lt; 0.1

# Initialize list to store independent multiples
independent_multiples = []

# Start with first multiple
remaining_cols = list(low_corr.columns)
current_col = remaining_cols[0]
independent_multiples.append(current_col)
remaining_cols.remove(current_col)

# Find additional multiples that are uncorrelated with all selected ones
while remaining_cols:
    for col in remaining_cols[:]:
        # Check if column is uncorrelated with all selected multiples
        is_independent = True
        for selected in independent_multiples:
            if not low_corr.loc[selected, col]:
                is_independent = False
                break
                
        if is_independent:
            independent_multiples.append(col)
            remaining_cols.remove(col)
            
    # If no more independent multiples found, break
    if not any(col in remaining_cols for col in independent_multiples):
        break

print("Independent multiples with no correlation to each other:")
print(independent_multiples)

low_corr
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-4.webp" alt="" /></p><p>이렇게 추출한 독립 요인들의 상관계수를 별도로 히트맵으로 그려보면 모든 상관계수가 0에 근접함을 확인할 수 있다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>plt.figure(figsize=(6, 3))
sns.heatmap(df_results_womissing[independent_multiples].corr(), 
            annot=True, 
            cmap='coolwarm',
            center=0,
            fmt='.3f',
            annot_kws={'size': 6})
plt.title('Correlation Heatmap of Independent Multiples', size='small')
plt.xticks(size='small')
plt.yticks(size='small')
plt.tight_layout()
plt.show()
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-5.webp" alt="" /></p><p>###</p><h3 id="3-타깃-멀티플-기준-최상위-기업-선별">3. 타깃 멀티플 기준 최상위 기업 선별</h3><p>앞서 기업 선별에 활용할 멀티플을 PER, PBR, PEG, Cash/Revenue로 타겟팅했다. Cash/Revenue는 높을수록 좋고, 그 외는 분자가 가격이므로 낮을수록 좋다. 이 기준으로 각 기업들을 정렬해 보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre># Create 2x2 subplots
n_metrics = len(independent_multiples)
fig, axes = plt.subplots(2, 2, figsize=(12, 6))
axes = axes.flatten()

# Plot bar chart for each metric
for i, metric in enumerate(independent_multiples):
    if i &amp;gt;= 4:  # Only show first 4 metrics
        break
        
    # Sort data by metric and get top 20 companies
    # Sort ascending for all metrics except Cash/Revenue
    ascending = True if metric != 'Cash/Revenue' else False
    data = df_results_womissing.sort_values(by=metric, ascending=ascending).head(20)
    
    # Create bar plot
    sns.barplot(data=data, x='symbol', y=metric, ax=axes[i])
    
    # Customize plot
    sort_direction = "Lowest" if ascending else "Highest"
    axes[i].set_title(f'{sort_direction} 20 Companies by {metric}', fontsize=10)
    axes[i].tick_params(axis='x', rotation=45, labelsize=8)
    axes[i].tick_params(axis='y', labelsize=8)
    axes[i].set_xlabel('Company Symbol', fontsize=8)
    axes[i].set_ylabel(metric, fontsize=8)

plt.tight_layout()
plt.show()
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-6.webp" alt="" /></p><p>PBR의 경우 지표가 0보다 낮으면 자본잠식 상태임을 고려하고, 나머지 정렬 상태를 확인한다. 종합 순위를 매기기 위해 각 지표별 순위를 매기고 4개 지표의 평균 순위로 후보군 Top 10을 선정한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre><td class="rouge-code"><pre># Create a scoring system based on multiple rankings
# For each multiple, rank companies from 1-n (n being total companies)
# Lower values are better for all metrics EXCEPT Cash/Revenue where higher is better

scoring_metrics = independent_multiples.copy()
df_scores = df_results_womissing.copy()

for metric in scoring_metrics:
    # For all metrics except Cash/Revenue, lower is better so ascending=True
    # For Cash/Revenue, higher is better so ascending=False
    ascending = False if metric == 'Cash/Revenue' else True
    
    # Rank companies for this metric (1 is best)
    df_scores[f'{metric}_rank'] = df_scores[metric].rank(ascending=ascending)

# Calculate average rank across all metrics
rank_columns = [col for col in df_scores.columns if col.endswith('_rank')]
df_scores['avg_rank'] = df_scores[rank_columns].mean(axis=1)

# Sort by average rank and get top 10 companies
top_10_companies = df_scores.sort_values('avg_rank').head(10)

# Display results with key metrics
display_columns = ['symbol', 'shortName'] + independent_multiples + ['avg_rank']
print("\nTop 10 Companies Based on Multiple Analysis:")
print(top_10_companies[display_columns].to_string(index=False))

# Create visualization of the top 10 companies' metrics
plt.figure(figsize=(8, 4))

# Plot heatmap of metrics for top 10 companies
metrics_data = top_10_companies[independent_multiples]
metrics_data = (metrics_data - metrics_data.mean()) / metrics_data.std()  # Standardize for better visualization

# Convert metrics_data to numeric values and handle any non-numeric values
metrics_data = metrics_data.apply(pd.to_numeric, errors='coerce')

# Create heatmap only if data is numeric
if not metrics_data.isna().all().all():
    sns.heatmap(metrics_data, 
                annot=True, 
                cmap='RdYlGn_r',
                xticklabels=independent_multiples,
                yticklabels=top_10_companies['symbol'],
                fmt='.2f',
                annot_kws={'size': 6})  # Smaller annotation font size

    plt.title('Standardized Metrics Heatmap for Top 10 Companies', fontsize=8)
    plt.xticks(fontsize=8, rotation=45)  # Smaller x-axis labels
    plt.yticks(fontsize=8)  # Smaller y-axis labels
    plt.tight_layout()
    plt.show()
else:
    print("Error: No numeric data available for heatmap visualization")
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-7.webp" alt="" /></p><p>종합 순위로 정렬하고, 각 값을 지표별 0을 중심으로 표준화하여 히트맵으로 표현했다. 잭 도시가 창업한 미국 모바일 결제 기업 XYZ를 포함한 상위 두 개의 기업이 전자 결제 서비스, 다음은 고객관리 서비스 두 기업이 뒤를 잇는다.</p><p>동종 산업군의 각 지표 평균을 보면 언급한 기업들의 상대적 우위를 확인할 수 있다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre># Calculate average scores across all companies for comparison
avg_scores = df_scores[independent_multiples].mean()

# Create figure with multiple subplots for each metric
fig, axes = plt.subplots(2, 2, figsize=(15, 10))
axes = axes.ravel()

# Plot each independent multiple as a bar chart
for i, metric in enumerate(independent_multiples):
    ax = axes[i]
    x = np.arange(len(top_10_companies['symbol']))
    width = 0.35
    
    # Plot company values
    ax.bar(x, top_10_companies[metric], width, label='Company Value', alpha=0.7)
    
    # Plot market average as horizontal line
    ax.axhline(y=avg_scores[metric], color='r', linestyle='--', 
               label=f'Market Average ({avg_scores[metric]:.2f})')
    
    ax.set_title(f'{metric} Comparison')
    ax.set_xlabel('Companies')
    ax.set_ylabel('Value')
    ax.set_xticks(x)
    ax.set_xticklabels(top_10_companies['symbol'], rotation=45)
    ax.legend()

plt.suptitle('Top 10 Companies vs Market Average - Key Metrics', fontsize=14)
plt.tight_layout()
plt.show()

# Print numerical comparison
comparison = pd.DataFrame({
    'Market Average': avg_scores,
    'Top 10 Average': top_10_companies[independent_multiples].mean()
})
print("\nNumerical Comparison with Market Averages:")
print(comparison.round(3))
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/154-8.webp" alt="" /></p><p>저렴한 기업을 무작정 매수하는 것이 아닌 좋은 기업을 낮은 가격에 매수하는 것이 투자 전략의 핵심이다. 따라서 저렴한 자산을 스크리닝 하기에 앞서 위와 같이 펀더멘탈이 양호한 기업들을 먼저 선별하는 것이 매우 중요하다.</p><p><strong>관성을 이기는 데이터</strong></p><p><a href="https://creativecommons.org/licenses/by/4.0/deed.ko">저작자표시 (새창열림)</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/4-%EC%8B%A4%EC%A0%84/'>4. 실전</a>, <a href='/categories/%EA%B3%84%EB%9F%89-%ED%88%AC%EC%9E%90-%EB%B6%84%EC%84%9D/'>계량 투자 분석</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA - 관성을 이기는 데이터&url=https://sw-song.github.io/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%97%85%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90-%EB%AF%B8%EA%B5%AD-%EA%B8%B0%EC%88%A0%EC%A3%BC-%EB%A9%80%ED%8B%B0%ED%94%8C-EDA/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA - 관성을 이기는 데이터&u=https://sw-song.github.io/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%97%85%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90-%EB%AF%B8%EA%B5%AD-%EA%B8%B0%EC%88%A0%EC%A3%BC-%EB%A9%80%ED%8B%B0%ED%94%8C-EDA/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA - 관성을 이기는 데이터&url=https://sw-song.github.io/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%A2%8B%EC%9D%80-%EA%B8%B0%EC%97%85%EC%9D%84-%EC%B0%BE%EC%95%84%EB%B3%B4%EC%9E%90-%EB%AF%B8%EA%B5%AD-%EA%B8%B0%EC%88%A0%EC%A3%BC-%EB%A9%80%ED%8B%B0%ED%94%8C-EDA/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Tistory%EC%97%90%EC%84%9C-GitHub-Pages%EB%A1%9C-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%EC%99%84%EC%A0%84-%EA%B0%80%EC%9D%B4%EB%93%9C/">Tistory에서 GitHub Pages로 블로그 마이그레이션 완전 가이드</a><li><a href="/posts/JavaScript-%EC%BD%9C%EB%B0%B1/">JavaScript - 콜백</a><li><a href="/posts/JavaScript-%EA%B0%9D%EC%B2%B4-%EC%B0%B8%EC%A1%B0-assign/">JavaScript - '객체 참조', assign()</a><li><a href="/posts/%EB%A7%A5-Mac-%ED%84%B0%EB%AF%B8%EB%84%90-%EA%B2%BD%EB%A1%9C%EC%84%A4%EC%A0%95-%EC%95%84%EB%82%98%EC%BD%98%EB%8B%A4-Anaconda-2020%EB%85%84-5%EC%9B%94-10%EC%9D%BC-%EA%B8%B0%EC%A4%80/">맥(Mac) 터미널 경로설정 - 아나콘다(Anaconda), 2020년 5월 10일 기준 updated</a><li><a href="/posts/%EB%A7%A5-zsh-conda-install-%EC%97%90%EB%9F%AC-pip-install%EB%A1%9C-%EB%8C%80%EC%B2%B4/">맥 zsh - conda install 에러, pip install로 대체</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%8B%9C%EC%9E%A5%EC%9D%80-%EC%A0%95%EB%A7%90-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%BC%EA%B9%8C-%ED%86%B5%EA%B3%84%EC%A0%81-%EC%B0%A8%EC%9D%B5%EA%B1%B0%EB%9E%98-Statistical-A/"><div class="card-body"> <span class="timeago small" >Apr 29, 2025<i class="unloaded">2025-04-29T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[파이썬 퀀트 투자] 시장은 정말 효율적일까? - 통계적 차익거래(Statistical Arbitrage) 백테스팅 시뮬레이션</h3><div class="text-muted small"><p> 통계적 차익거래는 움직임이 유사한 둘 이상의 자산에서 괴리가 발생하면 매수 및 매도를 통해 차익을 얻는 계량 투자 전략이다. 예를 들어 금광 채굴 회사의 주가는 금 가격과 상관성이 높을 테니, 금 가격만큼 충분히 주가가 오르지 않으면 매수하고 기다렸다가 적정 수준까지 주가가 따라잡았을 때 청산하는 식이다. 그러나 금과 금 채굴회사처럼 이미 잘 알려진...</p></div></div></a></div><div class="card"> <a href="/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EB%B2%A8%EB%A5%98%EC%97%90%EC%9D%B4%EC%85%98-%EB%A9%80%ED%8B%B0%ED%94%8C-%EA%B8%B0%EB%B0%98-%ED%94%BC%EC%96%B4-%EA%B7%B8%EB%A3%B9-%EC%8A%A4%ED%81%AC%EB%A6%AC%EB%8B%9D/"><div class="card-body"> <span class="timeago small" >May 8, 2025<i class="unloaded">2025-05-08T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[파이썬 퀀트 투자] 벨류에이션 멀티플 기반 피어 그룹 스크리닝</h3><div class="text-muted small"><p> 이번 글에서는 계량적 방법을 활용해 타겟 기업의 유사 그룹을 추출하고, 추출한 그룹 내 벨류에이션 멀티플에 대한 상대평가를 진행해 본다. 그전에, 동일한 스타일로 분석 대상 타겟 기업을 선정하는 것은 본 블로그의 [파이썬 퀀트 투자] 좋은 기업을 찾아보자 - 미국 기술주 멀티플 EDA에서 확인할 수 있다. 1. 데이터셋 준비 항상 데이터셋을 준비하...</p></div></div></a></div><div class="card"> <a href="/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EA%B8%88%EC%9C%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B6%84%EC%84%9D-%EB%AF%B8%EA%B5%AD-%EB%B6%80%EC%B1%84%EC%82%AC%EC%9D%B4%ED%81%B4-%EA%B8%B0%EB%B0%98-2025%EB%85%84-%EB%A6%AC%EC%84%B8%EC%85%98-%EB%A6%AC%EC%8A%A4%ED%81%AC-%ED%8F%89%EA%B0%80/"><div class="card-body"> <span class="timeago small" >Jan 12, 2025<i class="unloaded">2025-01-12T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[파이썬 금융 데이터 분석] 미국 부채사이클 기반 2025년 리세션 리스크 평가</h3><div class="text-muted small"><p> 2025년 세계 경제는 중요한 기로에 서 있다. 국가 경제의 핵심 지표 중 하나는 바로 부채 사이클이다. 미국의 부채 수준, 이자 지급액, 그리고 통화량(M0, M1, M2)을 분석함으로써 경기 침체 리스크를 이해하고, 이에 따라 적절한 경제 전략을 수립할 수 있다. 본 글에서는 미국 부채 사이클을 기반으로 현 시점 경제 상황을 분석하고, 통화량을 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EC%8B%9C%EC%9E%A5%EC%9D%80-%EC%A0%95%EB%A7%90-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%BC%EA%B9%8C-%ED%86%B5%EA%B3%84%EC%A0%81-%EC%B0%A8%EC%9D%B5%EA%B1%B0%EB%9E%98-Statistical-A/" class="btn btn-outline-primary" prompt="Older"><p>[파이썬 퀀트 투자] 시장은 정말 효율적일까? - 통계적 차익거래(Statistical Arbitrage) 백테스팅 시뮬레이션</p></a> <a href="/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%ED%80%80%ED%8A%B8-%ED%88%AC%EC%9E%90-%EB%B2%A8%EB%A5%98%EC%97%90%EC%9D%B4%EC%85%98-%EB%A9%80%ED%8B%B0%ED%94%8C-%EA%B8%B0%EB%B0%98-%ED%94%BC%EC%96%B4-%EA%B7%B8%EB%A3%B9-%EC%8A%A4%ED%81%AC%EB%A6%AC%EB%8B%9D/" class="btn btn-outline-primary" prompt="Newer"><p>[파이썬 퀀트 투자] 벨류에이션 멀티플 기반 피어 그룹 스크리닝</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://github.com/sw-song">Seungwon Song</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
