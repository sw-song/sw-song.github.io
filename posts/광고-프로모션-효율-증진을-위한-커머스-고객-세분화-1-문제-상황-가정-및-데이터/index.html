<!DOCTYPE html><html lang="kr" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리" /><meta property="og:locale" content="kr" /><meta name="description" content="“데이터”가 아니라 “문제”를 먼저 보는 연습" /><meta property="og:description" content="“데이터”가 아니라 “문제”를 먼저 보는 연습" /><link rel="canonical" href="https://sw-song.github.io/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9-%EA%B0%80%EC%A0%95-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0/" /><meta property="og:url" content="https://sw-song.github.io/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9-%EA%B0%80%EC%A0%95-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0/" /><meta property="og:site_name" content="관성을 이기는 데이터" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-11T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"“데이터”가 아니라 “문제”를 먼저 보는 연습","headline":"광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리","dateModified":"2026-01-12T08:03:50+09:00","url":"https://sw-song.github.io/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9-%EA%B0%80%EC%A0%95-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0/","datePublished":"2021-09-11T00:00:00+09:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://sw-song.github.io/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9-%EA%B0%80%EC%A0%95-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0/"},"@context":"https://schema.org"}</script><title>광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리 | 관성을 이기는 데이터</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="관성을 이기는 데이터"><meta name="application-name" content="관성을 이기는 데이터"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/main/logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">관성을 이기는 데이터</a></div><div class="site-subtitle font-italic">Data Analytics and Automation</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/sw-song" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/seungwonsong/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['sw930601','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Seungwon Song </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Sep 11, 2021, 12:00 AM +0900" >Sep 11, 2021<i class="unloaded">2021-09-11T00:00:00+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Mon, Jan 12, 2026, 8:03 AM +0900" >Jan 12<i class="unloaded">2026-01-12T08:03:50+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5308 words">29 min read</span></div></div><div class="post-content"><h2 id="데이터가-아니라-문제를-먼저-보는-연습"><strong>“데이터”가 아니라 “문제”를 먼저 보는 연습</strong></h2><p>이번 분석은 임의의 문제 상황을 가정하고 데이터를 통해 문제를 해결할 방법을 찾는다. 처음에는 의식적으로 ‘데이터’에 집중하게 되는데 본문에서 일부러 상황과 문제를 계속해서 강조했다. 그러니 ‘문제’에 집중해보자. ‘문제’를 이해하면 데이터는 자연스럽게 눈에 들어온다. 특히 후반부에 집단 군집 분석을 진행할 텐데, 이를 위해 머신러닝도 사용해볼 예정이다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>목차
___
Step 1. 문제 상황 가정 및 데이터 전처리
     1-1. 라이브러리 호출 및 데이터 확인
     1-2. 일부 컬럼 제거
     1-3. 컬럼명, 데이터타입 형식 통일
     1-4. 현재 날짜 가정
     1-5. 이상치 처리
</pre></table></code></div></div><h2 id="1-문제상황가정및데이터전처리"><strong>1.  문제 상황 가정 및 데이터 전처리</strong></h2><p>지금부터 우리는 이커머스 스타트업의 데이터 분석가다. 상품이 많아지면서 사용자 수가 늘고 매출 규모는 늘어나고 있지만 최근에 고객들이 많이 이탈하고 있다. 이탈을 막기 위해 방안을 모색하던 중 상품 MD와 플랫폼 기획 쪽에서 서비스 개편이나 상품 수급 기준을 높이자는 의견이 나왔다. 하지만 우리가 볼 때 신규 유입자 수는 역대 최고치를 경신하고 있기 때문에 서비스를 전면 개편하거나 유통업체를 바꾸는 시도는 하지 않는 것이 좋은 상황인 것 같다.</p><p>대신 우리는 사용자 수가 기존 대비 가파르게 늘고 있지만 그간 광고 프로모션에는 큰 변화를 주지 않았기 때문에 본인의 소비 성향과 관련 없는 광고에 피로감을 느꼈다고 생각했다. 그래서 기존 고객들이 이탈하고 있는 이유를 서비스가 마음에 들지 않아서가 아니라 광고에 대한 피로감 때문이라는 가설을 세우고 프로모션 A/B 테스트를 통해 검증해보자는 의견을 냈다.</p><p>다행히 현업에서도 우리 의견에 공감하여 A/B 테스트 설계를 시작한 상황이다. 실험은 기존의 일괄적인 프로모션과 개인화된 프로모션으로 제작하고, 소비자 그룹을 무작위로 50:50으로 나눠 한쪽은 일괄 프로모션(A), 다른 한쪽은 개인화 프로모션(B)을 적용할 것이다. 이번 분석(광고 프로모션 효율 증진을 위한 커머스 고객 세분화)의 흐름은 개인화 프로모션(B)을 제작하기 전, 개인화(grouping) 기준을 설정해나가는 과정이 되겠다.</p><h3 id="1-1-라이브러리-호출-및-데이터-확인"><strong>1-1. 라이브러리 호출 및 데이터 확인</strong></h3><p>여건상 캐글 사이트에서 데이터셋을 빌려오자. 대신, 실무 상황을 가정하기 위해 데이터셋을 약간 조정할 것이고 조금은 부족한 데이터셋으로 고객 그룹을 나눠볼 예정이다. 단, 데이터 양이 많지 않기 때문에(2240 rows) 결측치를 일부러 만들거나 하지는 않겠다. 데이터셋은 아래 링크에서 확보했다.</p><ul><li><a href="https://www.kaggle.com/imakash3011/customer-personality-analysis">Customer Personality Analysis, Kaggle Dataset</a></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre># 데이터프레임
import pandas as pd

# 시간 계산
import datetime

# 시각화
import matplotlib.pyplot as plt
import seaborn as sns
import missingno as msno
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre># 'Tab' 구분자로 나뉜 csv 파일을 불러온다.
customer_df_r = pd.read_csv('./data/marketing_campaign.csv', delimiter='\t')
customer_df_r.head()
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>ID<th>Year_Birth<th>Education<th>Marital_Status<th>Income<th>Kidhome<th>Teenhome<th>Dt_Customer<th>Recency<th>MntWines<th>…<th>NumWebVisitsMonth<th>AcceptedCmp3<th>AcceptedCmp4<th>AcceptedCmp5<th>AcceptedCmp1<th>AcceptedCmp2<th>Complain<th>Z_CostContact<th>Z_Revenue<th>Response<tbody><tr><td>0<td>5524<td>1957<td>Graduation<td>Single<td>58138.0<td>0<td>0<td>04-09-2012<td>58<td>635<td>…<td>7<td>0<td>0<td>0<td>0<td>0<td>0<td>3<td>11<td>1<tr><td>1<td>2174<td>1954<td>Graduation<td>Single<td>46344.0<td>1<td>1<td>08-03-2014<td>38<td>11<td>…<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>3<td>11<td>0<tr><td>2<td>4141<td>1965<td>Graduation<td>Together<td>71613.0<td>0<td>0<td>21-08-2013<td>26<td>426<td>…<td>4<td>0<td>0<td>0<td>0<td>0<td>0<td>3<td>11<td>0<tr><td>3<td>6182<td>1984<td>Graduation<td>Together<td>26646.0<td>1<td>0<td>10-02-2014<td>26<td>11<td>…<td>6<td>0<td>0<td>0<td>0<td>0<td>0<td>3<td>11<td>0<tr><td>4<td>5324<td>1981<td>PhD<td>Married<td>58293.0<td>1<td>0<td>19-01-2014<td>94<td>173<td>…<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>3<td>11<td>0</table></div><p>5 rows × 29 columns</p><p>결측치와 데이터 타입을 살펴보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df_r.info()
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre><td class="rouge-code"><pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 2240 entries, 0 to 2239
Data columns (total 29 columns):
 #   Column               Non-Null Count  Dtype  
---  ------               --------------  -----  
 0   ID                   2240 non-null   int64  
 1   Year_Birth           2240 non-null   int64  
 2   Education            2240 non-null   object 
 3   Marital_Status       2240 non-null   object 
 4   Income               2216 non-null   float64
 5   Kidhome              2240 non-null   int64  
 6   Teenhome             2240 non-null   int64  
 7   Dt_Customer          2240 non-null   object 
 8   Recency              2240 non-null   int64  
 9   MntWines             2240 non-null   int64  
 10  MntFruits            2240 non-null   int64  
 11  MntMeatProducts      2240 non-null   int64  
 12  MntFishProducts      2240 non-null   int64  
 13  MntSweetProducts     2240 non-null   int64  
 14  MntGoldProds         2240 non-null   int64  
 15  NumDealsPurchases    2240 non-null   int64  
 16  NumWebPurchases      2240 non-null   int64  
 17  NumCatalogPurchases  2240 non-null   int64  
 18  NumStorePurchases    2240 non-null   int64  
 19  NumWebVisitsMonth    2240 non-null   int64  
 20  AcceptedCmp3         2240 non-null   int64  
 21  AcceptedCmp4         2240 non-null   int64  
 22  AcceptedCmp5         2240 non-null   int64  
 23  AcceptedCmp1         2240 non-null   int64  
 24  AcceptedCmp2         2240 non-null   int64  
 25  Complain             2240 non-null   int64  
 26  Z_CostContact        2240 non-null   int64  
 27  Z_Revenue            2240 non-null   int64  
 28  Response             2240 non-null   int64  
dtypes: float64(1), int64(25), object(3)
memory usage: 507.6+ KB
</pre></table></code></div></div><p>칼럼이 많아서 한 번에 다 보여주지 못한다. 가로로 늘어뜨린 barplot으로 결측치를 확인해보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>msno.bar(customer_df_r);
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/60-0.webp" alt="" /></p><p>Income 칼럼에만 결측가 보인다. 과연 그런지 조건식을 통해 체크해보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre># 전체 결측치와 Income 컬럼의 결측치 수를 비교. 일치하면 True 반환
customer_df_r.isnull().sum().sum() == customer_df_r['Income'].isnull().sum()
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>True
</pre></table></code></div></div><p>전체 중 Income 칼럼에만 결측치가 존재한다. 그래서 저 결측치만 적절히 처리해주고 분류 모델에 욱여넣으면 될 것 같은데, 좀 더 현실적인 상황을 만들어보고 싶다.</p><h3 id="1-2-일부-칼럼-제거"><strong>1-2. 일부 칼럼 제거</strong></h3><p>머신러닝은 이렇게 양질의 데이터와 독립적인 칼럼들이 많을수록 성능이 좋다. 하지만 실무에서 이렇게 조건이 좋기는 어렵다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre>----------------------------------------------------------------------------------
People
----------------------------------------------------------------------------------
ID: Customer's unique identifier
Year_Birth: Customer's birth year
Education: Customer's education level
Marital_Status: Customer's marital status
Income: Customer's yearly household income
Kidhome: Number of children in customer's household
Teenhome: Number of teenagers in customer's household
Dt_Customer: Date of customer's enrollment with the company
Recency: Number of days since customer's last purchase
Complain: 1 if customer complained in the last 2 years, 0 otherwise
----------------------------------------------------------------------------------
Products
----------------------------------------------------------------------------------
MntWines: Amount spent on wine in last 2 years
MntFruits: Amount spent on fruits in last 2 years
MntMeatProducts: Amount spent on meat in last 2 years
MntFishProducts: Amount spent on fish in last 2 years
MntSweetProducts: Amount spent on sweets in last 2 years
MntGoldProds: Amount spent on gold in last 2 years
----------------------------------------------------------------------------------
Promotion
----------------------------------------------------------------------------------
NumDealsPurchases: Number of purchases made with a discount
AcceptedCmp1: 1 if customer accepted the offer in the 1st campaign, 0 otherwise
AcceptedCmp2: 1 if customer accepted the offer in the 2nd campaign, 0 otherwise
AcceptedCmp3: 1 if customer accepted the offer in the 3rd campaign, 0 otherwise
AcceptedCmp4: 1 if customer accepted the offer in the 4th campaign, 0 otherwise
AcceptedCmp5: 1 if customer accepted the offer in the 5th campaign, 0 otherwise
Response: 1 if customer accepted the offer in the last campaign, 0 otherwise
----------------------------------------------------------------------------------
Place
----------------------------------------------------------------------------------
NumWebPurchases: Number of purchases made through the company’s web site
NumCatalogPurchases: Number of purchases made using a catalogue
NumStorePurchases: Number of purchases made directly in stores
NumWebVisitsMonth: Number of visits to company’s web site in the last month
</pre></table></code></div></div><p>여기서 어느 회사에나 있는 데이터는 다음과 같다.</p><ul><li><strong>People 유형의 고객 ID, 출생연도(Year_Birth), 가입일(Dt_Customer), 가장 최근 구매일(Recency, 여기서는 구매 후 오늘까지 날짜로 저장되어 있다.), 클레임 수(Complain) 칼럼</strong><li><strong>Promotion 유형의 모든 칼럼(할인받고 구매한 상품 수와 프로모션에 대한 동의 여부)</strong><li><strong>Place 유형의 모든 칼럼(다양한 홍보 채널의 구매 상품 수 관련)</strong></ul><p>이렇게 상품에 대한 정보, 구매 경로, 고객 가입 정보 등은 어느 업체나 매출 관리를 위해 보유하고 있다.<br /> 반면 아래 칼럼들은 설문과 같은 임의의 특정 방식으로 수집하지 않는다면 보유하기 어렵다.</p><ul><li><strong>People 유형의 교육 수준(Education), 결혼 여부(Marital_Status), 소득 수준(Income), 10세 미만 자녀 수(Kidhome), 10대 자녀 수(Teenhome)</strong><li><strong>Products 유형의 모든 칼럼(고객이 1년에 어떤 제품을 얼마나 소비하는지 여부, 이 데이터는 소비는 자사 제품의 구매 내역이 아닌 개인 소비 성향에 대한 답변으로 확보된 것으로 보인다.)</strong></ul><p>우리는 일반적인 회사에 기본적으로 수집하고 있을 법한 데이터만 분석에 사용하겠다. 따라서 사용하지 않을 칼럼들을 모두 제거한다. 추가로, Z_CostContact와 Z_Revenue칼럼은 그 의미가 불분명해 역시 제거한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre># 혹시 중요한 컬럼이 있을지 모르니 원본은 남겨두고 다른 변수에 새롭게 할당하여 사용한다.
customer_df = customer_df_r.drop(columns=['Education','Marital_Status','Income','Kidhome','Teenhome',\
                                          'MntWines','MntFruits','MntMeatProducts','MntFishProducts','MntSweetProducts','MntGoldProds',\
                                          'Z_CostContact','Z_Revenue'], axis=1)
customer_df.head()
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>ID<th>Year_Birth<th>Dt_Customer<th>Recency<th>NumDealsPurchases<th>NumWebPurchases<th>NumCatalogPurchases<th>NumStorePurchases<th>NumWebVisitsMonth<th>AcceptedCmp3<th>AcceptedCmp4<th>AcceptedCmp5<th>AcceptedCmp1<th>AcceptedCmp2<th>Complain<th>Response<tbody><tr><td>0<td>5524<td>1957<td>04-09-2012<td>58<td>3<td>8<td>10<td>4<td>7<td>0<td>0<td>0<td>0<td>0<td>0<td>1<tr><td>1<td>2174<td>1954<td>08-03-2014<td>38<td>2<td>1<td>1<td>2<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>0<tr><td>2<td>4141<td>1965<td>21-08-2013<td>26<td>1<td>8<td>2<td>10<td>4<td>0<td>0<td>0<td>0<td>0<td>0<td>0<tr><td>3<td>6182<td>1984<td>10-02-2014<td>26<td>2<td>2<td>0<td>4<td>6<td>0<td>0<td>0<td>0<td>0<td>0<td>0<tr><td>4<td>5324<td>1981<td>19-01-2014<td>94<td>5<td>5<td>3<td>6<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>0</table></div><h3 id="1-3-칼럼명-데이터-타입-형식-통일"><strong>1-3. 칼럼명, 데이터 타입 형식 통일</strong></h3><p>이어서 칼럼명이 복잡하니 이해하기 쉽도록 네이밍을 조금 수정하겠다.</p><ul><li><strong>오탈자 방지를 위해 소문자만 사용한다.</strong><li><strong>f는 from의 약자, promo는 promotion의 약자로 사용한다.</strong></ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>customer_df.columns = ['id', 'birth', 'enroll', 'day_f_buy', \
                       'buy_f_promo', 'buy_f_web', 'buy_f_catalog', 'buy_f_store',\
                       'visit_web','promo3','promo4','promo5','promo1','promo2','complain','promo6']
customer_df.head()
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>id<th>birth<th>enroll<th>day_f_buy<th>buy_f_promo<th>buy_f_web<th>buy_f_catalog<th>buy_f_store<th>visit_web<th>promo3<th>promo4<th>promo5<th>promo1<th>promo2<th>complain<th>promo6<tbody><tr><td>0<td>5524<td>1957<td>04-09-2012<td>58<td>3<td>8<td>10<td>4<td>7<td>0<td>0<td>0<td>0<td>0<td>0<td>1<tr><td>1<td>2174<td>1954<td>08-03-2014<td>38<td>2<td>1<td>1<td>2<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>0<tr><td>2<td>4141<td>1965<td>21-08-2013<td>26<td>1<td>8<td>2<td>10<td>4<td>0<td>0<td>0<td>0<td>0<td>0<td>0<tr><td>3<td>6182<td>1984<td>10-02-2014<td>26<td>2<td>2<td>0<td>4<td>6<td>0<td>0<td>0<td>0<td>0<td>0<td>0<tr><td>4<td>5324<td>1981<td>19-01-2014<td>94<td>5<td>5<td>3<td>6<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>0</table></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre># 컬럼별 데이터타입 확인
customer_df.dtypes
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>id                int64
birth             int64
enroll           object
day_f_buy         int64
buy_f_promo       int64
buy_f_web         int64
buy_f_catalog     int64
buy_f_store       int64
visit_web         int64
promo3            int64
promo4            int64
promo5            int64
promo1            int64
promo2            int64
complain          int64
promo6            int64
dtype: object
</pre></table></code></div></div><p>enroll 칼럼은 내용에 맞게 datetime으로 변경해주자. 그 후 오늘 날짜(가정)와 비교해서 가입 기간을 계산해보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>customer_df['enroll'] = customer_df['enroll'].astype('datetime64')
customer_df['enroll']
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>0      2012-04-09
1      2014-08-03
2      2013-08-21
3      2014-10-02
4      2014-01-19
          ...    
2235   2013-06-13
2236   2014-10-06
2237   2014-01-25
2238   2014-01-24
2239   2012-10-15
Name: enroll, Length: 2240, dtype: datetime64[ns]
</pre></table></code></div></div><h3 id="1-4-현재-날짜-가정"><strong>1-4. 현재 날짜 가정</strong></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df['enroll'].sort_values()
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>2029   2012-01-08
976    2012-01-08
2194   2012-01-08
724    2012-01-08
1473   2012-01-09
          ...    
153    2014-12-05
815    2014-12-05
216    2014-12-05
50     2014-12-05
2003   2014-12-06
Name: enroll, Length: 2240, dtype: datetime64[ns]
</pre></table></code></div></div><p>고객 2240명의 가입일을 날짜순으로 나열해보니 가장 최근 가입일이 ‘2014년 말’이다. 해당 고객의 데이터를 잠깐 살펴보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df.iloc[2003]
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>id                              6679
birth                           1966
enroll           2014-12-06 00:00:00
day_f_buy                         29
buy_f_promo                        1
buy_f_web                          0
buy_f_catalog                      0
buy_f_store                        3
visit_web                          3
promo3                             0
promo4                             0
promo5                             0
promo1                             0
promo2                             0
complain                           0
promo6                             0
Name: 2003, dtype: object
</pre></table></code></div></div><p>가장 최근에 가입한 고객은 이번 달에 3번 웹사이트를 방문했으며 오프라인 스토어 상품 3개, 프로모션 상품 1개를 구매했고 구매일로부터 29일 지났다. 그렇다면 우리가 가정할 수 있는 ‘현시점’은 2015년 2월 초~중순 정도가 되겠다. 임의로 현재 날짜를 2015년 2월 15일로 설정하고 과거의 시점에서 데이터를 분석한다고 생각해보겠다.</p><p>현시점을 설정함으로써 고객의 나이와 가입 기간을 확보할 수 있다. 먼저 birth 칼럼 대신 age 칼럼을 만들어보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre># 고객 나이 계산하기
customer_df['age'] = 2015 - customer_df['birth'] + 1
# 기존 birth 컬럼 제거
customer_df.drop('birth', axis=1, inplace=True)
customer_df['age']
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>0       59
1       62
2       51
3       32
4       35
        ..
2235    49
2236    70
2237    35
2238    60
2239    62
Name: age, Length: 2240, dtype: int64
</pre></table></code></div></div><p>다음으로 enroll 칼럼 대신 가입기간을 뜻하는 period 칼럼을 만들어보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre># 날짜 차이(기간) 데이터 확보
period = datetime.datetime(2015,2,15) - customer_df['enroll']
period
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>0      1042 days
1       196 days
2       543 days
3       136 days
4       392 days
          ...   
2235    612 days
2236    132 days
2237    386 days
2238    387 days
2239    853 days
Name: enroll, Length: 2240, dtype: timedelta64[ns]
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre># 날짜 차이 데이터 -&gt; 타입 변경(timedelta -&gt; int) 후 컬럼 지정
customer_df['period'] = period.dt.days
customer_df.drop('enroll', axis=1, inplace=True)

customer_df['period']
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>0       1042
1        196
2        543
3        136
4        392
        ... 
2235     612
2236     132
2237     386
2238     387
2239     853
Name: period, Length: 2240, dtype: int64
</pre></table></code></div></div><h3 id="1-5-이상치-처리"><strong>1-5. 이상치 처리</strong></h3><p>데이터 분포를 확인해서 분석에 방해가 되는 극단치 데이터 혹은 잘못 기입된(것으로 추측할 수 있는) 것이 있다면 적절히 처리한다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df.describe()
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>id<th>day_f_buy<th>buy_f_promo<th>buy_f_web<th>buy_f_catalog<th>buy_f_store<th>visit_web<th>promo3<th>promo4<th>promo5<th>promo1<th>promo2<th>complain<th>promo6<th>age<th>period<tbody><tr><td>count<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<tr><td>mean<td>5592.159821<td>49.109375<td>2.325000<td>4.084821<td>2.662054<td>5.790179<td>5.316518<td>0.072768<td>0.074554<td>0.072768<td>0.064286<td>0.013393<td>0.009375<td>0.149107<td>47.194196<td>583.043304<tr><td>std<td>3246.662198<td>28.962453<td>1.932238<td>2.778714<td>2.923101<td>3.250958<td>2.426645<td>0.259813<td>0.262728<td>0.259813<td>0.245316<td>0.114976<td>0.096391<td>0.356274<td>11.984069<td>232.229893<tr><td>min<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>20.000000<td>71.000000<tr><td>25%<td>2828.250000<td>24.000000<td>1.000000<td>2.000000<td>0.000000<td>3.000000<td>3.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>39.000000<td>411.750000<tr><td>50%<td>5458.500000<td>49.000000<td>2.000000<td>4.000000<td>2.000000<td>5.000000<td>6.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>46.000000<td>584.000000<tr><td>75%<td>8427.750000<td>74.000000<td>3.000000<td>6.000000<td>4.000000<td>8.000000<td>7.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>57.000000<td>756.250000<tr><td>max<td>11191.000000<td>99.000000<td>15.000000<td>27.000000<td>28.000000<td>13.000000<td>20.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>123.000000<td>1134.000000</table></div><p>표로만 보는 것보다 시각화를 통해 살펴보는 것도 도움이 된다. 다만, prom1~prom6, complain 칼럼은 정보가 빽빽하게 채워진 형태가 아닌 scalar 값(0 혹은 1)이므로 시각화가 정보를 주지 못한다. 또한 id 컬럼은 개별 고객을 특정하는 고윳값이므로 시각화의 의미가 없다. 따라서 해당 칼럼들은 제외하고 pairplot을 통해 데이터를 펼쳐보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre># 아래 데이터만 시각화로 출력할 것이다.
pairs_df = customer_df.loc[:, [col for col in customer_df.columns if col not in ['id','promo1','promo2','promo3','promo4','promo5','promo6','complain']]]
pairs_df
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>day_f_buy<th>buy_f_promo<th>buy_f_web<th>buy_f_catalog<th>buy_f_store<th>visit_web<th>age<th>period<tbody><tr><td>0<td>58<td>3<td>8<td>10<td>4<td>7<td>59<td>1042<tr><td>1<td>38<td>2<td>1<td>1<td>2<td>5<td>62<td>196<tr><td>2<td>26<td>1<td>8<td>2<td>10<td>4<td>51<td>543<tr><td>3<td>26<td>2<td>2<td>0<td>4<td>6<td>32<td>136<tr><td>4<td>94<td>5<td>5<td>3<td>6<td>5<td>35<td>392<tr><td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<tr><td>2235<td>46<td>2<td>9<td>3<td>4<td>5<td>49<td>612<tr><td>2236<td>56<td>7<td>8<td>2<td>5<td>7<td>70<td>132<tr><td>2237<td>91<td>1<td>2<td>3<td>13<td>6<td>35<td>386<tr><td>2238<td>8<td>2<td>6<td>5<td>10<td>3<td>60<td>387<tr><td>2239<td>40<td>3<td>3<td>1<td>4<td>7<td>62<td>853</table></div><p>2240 rows × 8 columns</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sns.pairplot(data=pairs_df);
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/60-1.webp" alt="" /></p><p>대부분의 데이터에 튀는 값들이 있지만 구매 관련 칼럼들의 경우 그 값 자체로 의미 있는 정보를 담고 있을 확률이 크다. 따라서 그것을 제외하고 age, period 칼럼을 봤을 때, period는 정규분포와 유사한 형태로 잘 정돈되어 있으나 age 칼럼은 이상치가 정보량을 줄이고 있는 것을 볼 수 있다. 또한 그 이상치가 100을 넘는 것으로 볼 때 상식적으로 의심을 품을 만한 데이터로 보인다. 일반적이지 않은 데이터이므로 해당 칼럼만 다시 시각화를 통해 확인해보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sns.boxplot(data=customer_df, x='age');
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/60-2.webp" alt="" /></p><p>age가 120 근처에 있는 것은 이상하다. 해당 고객들을 데이터를 살펴보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df[customer_df['age']&gt;100]
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>id<th>day_f_buy<th>buy_f_promo<th>buy_f_web<th>buy_f_catalog<th>buy_f_store<th>visit_web<th>promo3<th>promo4<th>promo5<th>promo1<th>promo2<th>complain<th>promo6<th>age<th>period<tbody><tr><td>192<td>7829<td>99<td>1<td>2<td>1<td>2<td>5<td>0<td>0<td>0<td>0<td>0<td>1<td>0<td>116<td>507<tr><td>239<td>11004<td>23<td>1<td>1<td>0<td>2<td>4<td>0<td>0<td>0<td>0<td>0<td>0<td>0<td>123<td>274<tr><td>339<td>1150<td>36<td>1<td>4<td>6<td>4<td>1<td>0<td>0<td>1<td>0<td>0<td>0<td>0<td>117<td>507</table></div><p>나이 정보를 제외하고 나머지 칼럼들로 상관성을 분석해서 가장 상관성이 높은 다섯 고객의 나이 평균을 해당 고객의 나이로 지정해줄 것이다. 물론 100% 일치할 수는 없겠지만 컬럼을 제거하는 것보다 정보 손실을 줄일 수 있다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre># id 컬럼을 제거하고 고객 리스트를 컬럼으로 전치한 다음 각 고객별로 상관도 테이블을 만든다.
corr_df = customer_df.drop('id', axis=1).T.corr()

# 상관도 테이블에서 나이가 110세 이상으로 표기된 고객 3명의 상관도 리스트를 추출한다. 
age_outliers_df = corr_df[customer_df[customer_df['age']&gt;100].index]
age_outliers_df
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>192<th>239<th>339<tbody><tr><td>0<td>0.977110<td>0.929072<td>0.984905<tr><td>1<td>0.996395<td>0.985838<td>0.989961<tr><td>2<td>0.981023<td>0.941784<td>0.990341<tr><td>3<td>0.999108<td>0.971865<td>0.992261<tr><td>4<td>0.988590<td>0.924792<td>0.974089<tr><td>…<td>…<td>…<td>…<tr><td>2235<td>0.982841<td>0.937229<td>0.988486<tr><td>2236<td>0.949149<td>0.953366<td>0.920994<tr><td>2237<td>0.988644<td>0.925626<td>0.974716<tr><td>2238<td>0.982029<td>0.959088<td>0.995677<tr><td>2239<td>0.978670<td>0.935204<td>0.987545</table></div><p>2240 rows × 3 columns</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre># 고객별로 상관도가 높은 순으로 정렬한 다음 각각 5명의 인덱스를 추출한다.
age_outliers_corr_dict = {}

for col in age_outliers_df.columns:
    # 정렬했을 때 첫번째 값은 자기 자신의 인덱스이므로(상관성 100%) 2번째 값부터 5개를 가져온다.
    age_outliers_corr_dict[col] = list(age_outliers_df[col].sort_values(ascending=False).index[1:6])

print(age_outliers_corr_dict)
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{192: [74, 923, 1380, 2052, 458], 239: [635, 1420, 1848, 66, 1468], 339: [1158, 2023, 1232, 1184, 1462]}
</pre></table></code></div></div><p>이제 해당 고객들의 기존 age데이터를 예측한 나이로 바꿔주고 어떤 데이터(나이)로 교체되었는지 출력도 해보자.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>for key, val in age_outliers_corr_dict.items():
    pred_age = int(customer_df.iloc[age_outliers_corr_dict[key]]['age'].mean())
    customer_df.iloc[key]['age'] = pred_age
    print('index {}번 고객의 수정된 나이(추정) : {}'.format(key, pred_age))
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>index 192번 고객의 수정된 나이(추정) : 62
index 239번 고객의 수정된 나이(추정) : 52
index 339번 고객의 수정된 나이(추정) : 52
</pre></table></code></div></div><p>마지막으로 수정한 age 컬럼 분포를 시각화합니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>sns.boxplot(data=customer_df, x='age');
</pre></table></code></div></div><p><img data-proofer-ignore data-src="/assets/images/posts/60-3.webp" alt="" /></p><p>이상치가 정상적으로 처리되었다. 지금까지 전처리한 데이터를 다시 펼쳐보면 아래와 같다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>id<th>day_f_buy<th>buy_f_promo<th>buy_f_web<th>buy_f_catalog<th>buy_f_store<th>visit_web<th>promo3<th>promo4<th>promo5<th>promo1<th>promo2<th>complain<th>promo6<th>age<th>period<tbody><tr><td>0<td>5524<td>58<td>3<td>8<td>10<td>4<td>7<td>0<td>0<td>0<td>0<td>0<td>0<td>1<td>59<td>1042<tr><td>1<td>2174<td>38<td>2<td>1<td>1<td>2<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>0<td>62<td>196<tr><td>2<td>4141<td>26<td>1<td>8<td>2<td>10<td>4<td>0<td>0<td>0<td>0<td>0<td>0<td>0<td>51<td>543<tr><td>3<td>6182<td>26<td>2<td>2<td>0<td>4<td>6<td>0<td>0<td>0<td>0<td>0<td>0<td>0<td>32<td>136<tr><td>4<td>5324<td>94<td>5<td>5<td>3<td>6<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>0<td>35<td>392<tr><td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<td>…<tr><td>2235<td>10870<td>46<td>2<td>9<td>3<td>4<td>5<td>0<td>0<td>0<td>0<td>0<td>0<td>0<td>49<td>612<tr><td>2236<td>4001<td>56<td>7<td>8<td>2<td>5<td>7<td>0<td>0<td>0<td>1<td>0<td>0<td>0<td>70<td>132<tr><td>2237<td>7270<td>91<td>1<td>2<td>3<td>13<td>6<td>0<td>1<td>0<td>0<td>0<td>0<td>0<td>35<td>386<tr><td>2238<td>8235<td>8<td>2<td>6<td>5<td>10<td>3<td>0<td>0<td>0<td>0<td>0<td>0<td>0<td>60<td>387<tr><td>2239<td>9405<td>40<td>3<td>3<td>1<td>4<td>7<td>0<td>0<td>0<td>0<td>0<td>0<td>1<td>62<td>853</table></div><p>2240 rows × 16 columns</p><p>혹시 모르니 결측치와 데이터 분포도 다시 한번 확인해준다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df.info()
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 2240 entries, 0 to 2239
Data columns (total 16 columns):
 #   Column         Non-Null Count  Dtype
---  ------         --------------  -----
 0   id             2240 non-null   int64
 1   day_f_buy      2240 non-null   int64
 2   buy_f_promo    2240 non-null   int64
 3   buy_f_web      2240 non-null   int64
 4   buy_f_catalog  2240 non-null   int64
 5   buy_f_store    2240 non-null   int64
 6   visit_web      2240 non-null   int64
 7   promo3         2240 non-null   int64
 8   promo4         2240 non-null   int64
 9   promo5         2240 non-null   int64
 10  promo1         2240 non-null   int64
 11  promo2         2240 non-null   int64
 12  complain       2240 non-null   int64
 13  promo6         2240 non-null   int64
 14  age            2240 non-null   int64
 15  period         2240 non-null   int64
dtypes: int64(16)
memory usage: 280.1 KB
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df.describe()
</pre></table></code></div></div><div class="table-wrapper"><table><thead><tr><th> <th>id<th>day_f_buy<th>buy_f_promo<th>buy_f_web<th>buy_f_catalog<th>buy_f_store<th>visit_web<th>promo3<th>promo4<th>promo5<th>promo1<th>promo2<th>complain<th>promo6<th>age<th>period<tbody><tr><td>count<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<td>2240.000000<tr><td>mean<td>5592.159821<td>49.109375<td>2.325000<td>4.084821<td>2.662054<td>5.790179<td>5.316518<td>0.072768<td>0.074554<td>0.072768<td>0.064286<td>0.013393<td>0.009375<td>0.149107<td>47.109375<td>583.043304<tr><td>std<td>3246.662198<td>28.962453<td>1.932238<td>2.778714<td>2.923101<td>3.250958<td>2.426645<td>0.259813<td>0.262728<td>0.259813<td>0.245316<td>0.114976<td>0.096391<td>0.356274<td>11.699227<td>232.229893<tr><td>min<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>20.000000<td>71.000000<tr><td>25%<td>2828.250000<td>24.000000<td>1.000000<td>2.000000<td>0.000000<td>3.000000<td>3.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>39.000000<td>411.750000<tr><td>50%<td>5458.500000<td>49.000000<td>2.000000<td>4.000000<td>2.000000<td>5.000000<td>6.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>46.000000<td>584.000000<tr><td>75%<td>8427.750000<td>74.000000<td>3.000000<td>6.000000<td>4.000000<td>8.000000<td>7.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>0.000000<td>57.000000<td>756.250000<tr><td>max<td>11191.000000<td>99.000000<td>15.000000<td>27.000000<td>28.000000<td>13.000000<td>20.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>1.000000<td>76.000000<td>1134.000000</table></div><p>이상 없는 것을 확인하여 이 데이터셋을 저장하고 다음 장(Step2~)에서 그대로 활용한다. 다음 장에서는 머신러닝을 활용해 군집 분석을 실시하고 고객 그룹을 다양한 유형으로 나눠볼 예정이다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>customer_df.to_csv('./data/customer.csv', index=None)
</pre></table></code></div></div><p><strong>관성을 이기는 데이터</strong></p><p><a href="https://creativecommons.org/licenses/by/4.0/deed.ko">저작자표시 (새창열림)</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/3-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/'>3. 튜토리얼</a>, <a href='/categories/%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%ED%86%B5%EA%B3%84-%EB%B6%84%EC%84%9D-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/'>비즈니스 통계 분석 프로그래밍</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리 - 관성을 이기는 데이터&url=https://sw-song.github.io/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9-%EA%B0%80%EC%A0%95-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리 - 관성을 이기는 데이터&u=https://sw-song.github.io/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9-%EA%B0%80%EC%A0%95-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (1) 문제 상황 가정 및 데이터 전처리 - 관성을 이기는 데이터&url=https://sw-song.github.io/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-1-%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9-%EA%B0%80%EC%A0%95-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Tistory%EC%97%90%EC%84%9C-GitHub-Pages%EB%A1%9C-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98-%EC%99%84%EC%A0%84-%EA%B0%80%EC%9D%B4%EB%93%9C/">Tistory에서 GitHub Pages로 블로그 마이그레이션 완전 가이드</a><li><a href="/posts/JavaScript-%EC%BD%9C%EB%B0%B1/">JavaScript - 콜백</a><li><a href="/posts/JavaScript-%EA%B0%9D%EC%B2%B4-%EC%B0%B8%EC%A1%B0-assign/">JavaScript - '객체 참조', assign()</a><li><a href="/posts/%EB%A7%A5-Mac-%ED%84%B0%EB%AF%B8%EB%84%90-%EA%B2%BD%EB%A1%9C%EC%84%A4%EC%A0%95-%EC%95%84%EB%82%98%EC%BD%98%EB%8B%A4-Anaconda-2020%EB%85%84-5%EC%9B%94-10%EC%9D%BC-%EA%B8%B0%EC%A4%80/">맥(Mac) 터미널 경로설정 - 아나콘다(Anaconda), 2020년 5월 10일 기준 updated</a><li><a href="/posts/%EB%A7%A5-zsh-conda-install-%EC%97%90%EB%9F%AC-pip-install%EB%A1%9C-%EB%8C%80%EC%B2%B4/">맥 zsh - conda install 에러, pip install로 대체</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EB%A7%A5-Mac-%ED%84%B0%EB%AF%B8%EB%84%90-%EA%B2%BD%EB%A1%9C%EC%84%A4%EC%A0%95-%EC%95%84%EB%82%98%EC%BD%98%EB%8B%A4-Anaconda-2020%EB%85%84-5%EC%9B%94-10%EC%9D%BC-%EA%B8%B0%EC%A4%80/"><div class="card-body"> <span class="timeago small" >May 10, 2020<i class="unloaded">2020-05-10T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>맥(Mac) 터미널 경로설정 - 아나콘다(Anaconda), 2020년 5월 10일 기준 updated</h3><div class="text-muted small"><p> 오랜만에 맥에 아나콘다를 설치하고 가상 환경을 띄우려는데, 에러가 발생했다. 구글링 해보면 대부분 export PATH=”/Users/username/anaconda/bin:$PATH”로 설정하면 된다 는 내용이 많다. 동일하게 시도했을때, 아래와 같이 에러가 발생한다. 초기화도 해보았으나 No action taken. 이라는 모호한 ...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%A7%A5-zsh-conda-install-%EC%97%90%EB%9F%AC-pip-install%EB%A1%9C-%EB%8C%80%EC%B2%B4/"><div class="card-body"> <span class="timeago small" >May 16, 2020<i class="unloaded">2020-05-16T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>맥 zsh - conda install 에러, pip install로 대체</h3><div class="text-muted small"><p> 이번에 새로 산 맥에 장고를 설치하려다가 conda install 관련 에러가 있어 내용을 기록한다. 우선, 사용자폴더에서 새롭게 sw_python이라는 폴더를 생성하고, 가상환경도 만들어 줬다. 가상환경 이름은 재미없지만 django_venv이다. 가상환경은 잘 생성되었다. conda activate django_venv 명령어로 가상환경을 ...</p></div></div></a></div><div class="card"> <a href="/posts/pythonanywhere-%EC%9E%A5%EA%B3%A0-%EC%84%9C%EB%B2%84-%EA%B5%AC%EC%B6%95/"><div class="card-body"> <span class="timeago small" >May 17, 2020<i class="unloaded">2020-05-17T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>pythonanywhere - 장고 서버 구축</h3><div class="text-muted small"><p> 웹으로 모델을 서빙해야 하는 상황이 자주 생긴다. pythonanywhere로 간단한 개인 서버를 띄워보고 싶다면, 딱 3가지만 생각하면 된다. 로컬에서 개발하고 Github에 원격으로 올리고 외부 호스팅 업체를 사용한다. 로컬 개발하고 머신러닝 모델 배포나 일반 웹서비스를 위해 html 페이지를 로컬 서버에 띄워봤...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EC%A1%B4%EB%B2%84-vs-%EC%9E%90%EB%8F%99%EB%A7%A4%EB%A7%A4-%EB%B0%B1%ED%85%8C%EC%8A%A4%ED%8C%85-%EC%88%98%EC%9D%B5%EB%A5%A0-%EB%B9%84%EA%B5%90-%EC%B9%B4%EC%B9%B4%EC%98%A4-%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EA%B8%88%EC%9C%B5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B6%84%EC%84%9D/" class="btn btn-outline-primary" prompt="Older"><p>존버 vs 자동매매 백테스팅 수익률 비교(카카오) - 파이썬 금융 데이터 분석</p></a> <a href="/posts/%EA%B4%91%EA%B3%A0-%ED%94%84%EB%A1%9C%EB%AA%A8%EC%85%98-%ED%9A%A8%EC%9C%A8-%EC%A6%9D%EC%A7%84%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%BB%A4%EB%A8%B8%EC%8A%A4-%EA%B3%A0%EA%B0%9D-%EC%84%B8%EB%B6%84%ED%99%94-2-%EA%B3%A0%EA%B0%9D-%EA%B5%B0%EC%A7%91-%EB%B6%84%EC%84%9D/" class="btn btn-outline-primary" prompt="Newer"><p>광고 프로모션 효율 증진을 위한 커머스 고객 세분화 - (2) 고객 군집 분석</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2026 <a href="https://github.com/sw-song">Seungwon Song</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
